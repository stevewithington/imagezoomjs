!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("zoom",[],n):"object"==typeof exports?exports.zoom=n():t.zoom=n()}(window,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}({"./node_modules/tslib/tslib.es6.js":function(t,n,e){"use strict";e.r(n),e.d(n,"__extends",(function(){return o})),e.d(n,"__assign",(function(){return a})),e.d(n,"__rest",(function(){return i})),e.d(n,"__decorate",(function(){return s})),e.d(n,"__param",(function(){return u})),e.d(n,"__metadata",(function(){return c})),e.d(n,"__awaiter",(function(){return l})),e.d(n,"__generator",(function(){return f})),e.d(n,"__createBinding",(function(){return m})),e.d(n,"__exportStar",(function(){return p})),e.d(n,"__values",(function(){return d})),e.d(n,"__read",(function(){return _})),e.d(n,"__spread",(function(){return v})),e.d(n,"__spreadArrays",(function(){return y})),e.d(n,"__await",(function(){return g})),e.d(n,"__asyncGenerator",(function(){return h})),e.d(n,"__asyncDelegator",(function(){return b})),e.d(n,"__asyncValues",(function(){return S})),e.d(n,"__makeTemplateObject",(function(){return x})),e.d(n,"__importStar",(function(){return O})),e.d(n,"__importDefault",(function(){return P})),e.d(n,"__classPrivateFieldGet",(function(){return j})),e.d(n,"__classPrivateFieldSet",(function(){return Y}));var r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function o(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var a=function(){return(a=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function i(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}function s(t,n,e,r){var o,a=arguments.length,i=a<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,e,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(n,e,i):o(n,e))||i);return a>3&&i&&Object.defineProperty(n,e,i),i}function u(t,n){return function(e,r){n(e,r,t)}}function c(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}function l(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(i,s)}u((r=r.apply(t,n||[])).next())}))}function f(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var m=Object.create?function(t,n,e,r){void 0===r&&(r=e),Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[e]}})}:function(t,n,e,r){void 0===r&&(r=e),t[r]=n[e]};function p(t,n){for(var e in t)"default"===e||n.hasOwnProperty(e)||m(n,t,e)}function d(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i}function v(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(_(arguments[n]));return t}function y(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),o=0;for(n=0;n<e;n++)for(var a=arguments[n],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function h(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=e.apply(t,n||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(t){o[t]&&(r[t]=function(n){return new Promise((function(e,r){a.push([t,n,e,r])>1||s(t,n)}))})}function s(t,n){try{(e=o[t](n)).value instanceof g?Promise.resolve(e.value.v).then(u,c):l(a[0][2],e)}catch(t){l(a[0][3],t)}var e}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,n){t(n),a.shift(),a.length&&s(a[0][0],a[0][1])}}function b(t){var n,e;return n={},r("next"),r("throw",(function(t){throw t})),r("return"),n[Symbol.iterator]=function(){return this},n;function r(r,o){n[r]=t[r]?function(n){return(e=!e)?{value:g(t[r](n)),done:"return"===r}:o?o(n):n}:o}}function S(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=d(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(e){n[e]=t[e]&&function(n){return new Promise((function(r,o){(function(t,n,e,r){Promise.resolve(r).then((function(n){t({value:n,done:e})}),n)})(r,o,(n=t[e](n)).done,n.value)}))}}}function x(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}var w=Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n};function O(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.hasOwnProperty.call(t,e)&&m(n,t,e);return w(n,t),n}function P(t){return t&&t.__esModule?t:{default:t}}function j(t,n){if(!n.has(t))throw new TypeError("attempted to get private field on non-instance");return n.get(t)}function Y(t,n,e){if(!n.has(t))throw new TypeError("attempted to set private field on non-instance");return n.set(t,e),e}},"./src/ImageZoom.ts":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./node_modules/tslib/tslib.es6.js"),o=function(t,n){var e=this;void 0===n&&(n={}),this.defaults={minScale:1,maxScale:10,speed:10},this._initState=function(){return{element:e._element,minScale:e._options.minScale,maxScale:e._options.maxScale,speed:e._options.speed,transformation:{originX:0,originY:0,translateX:0,translateY:0,scale:1},bounds:e._element.getBoundingClientRect()}},this._initInstance=function(){return Object.assign({},e.canZoom(e._state),e.canPan(e._state))},this._initEvents=function(){if(e._options.zoomInElement){var t,n=e._options.zoomInElement;e.on(n,"click",(function(){e.zoomIn()})),e.on(n,"mousedown",(function(){t=setInterval((function(){e.zoomIn()}),20)})),e.on(n,"mouseup",(function(){clearInterval(t)}))}var r;e._options.zoomOutElement&&(n=e._options.zoomOutElement,e.on(n,"click",(function(){e.zoomOut()})),e.on(n,"mousedown",(function(){r=setInterval((function(){e.zoomOut()}),20)})),e.on(n,"mouseup",(function(){clearInterval(r)})));if(e._options.rangeElement){var o=e._options.rangeElement;o.min=e._options.minScale.toString(),o.max=e._options.maxScale.toString(),o.step=(.001*e._options.speed).toString(),o.defaultValue=o.min,e.on(o,"input",(function(){var t=Number(o.value),n=t>e._state.transformation.scale?1:-1;e._zoom(n,t)}))}e.on(e._element,"dblclick",(function(){e._instance.panTo({originX:0,originY:0,scale:1}),e._originPoint={x:0,y:0},e._options.rangeElement&&(e._options.rangeElement.value="0")})),e.on(e._element,"wheel",(function(t){t.preventDefault(),e._instance.zoom({deltaScale:Math.sign(t.deltaY)>0?-1:1,x:t.pageX,y:t.pageY})})),e.on(e._element,"mousemove",(function(t){t.shiftKey&&(t.preventDefault(),e._instance.panBy({originX:t.movementX,originY:t.movementY}))}))},this.zoomIn=function(){var t=e._state.transformation.scale+1/e._options.speed;e._zoom(1,t)},this.zoomOut=function(){var t=e._state.transformation.scale+-1/e._options.speed;e._zoom(-1,t)},this.canZoom=function(t){return{zoom:function(n){var o=n.x,a=n.y,i=n.deltaScale,s=t.element.getBoundingClientRect(),u=s.left,c=s.top,l=t.minScale,f=t.maxScale,m=t.speed,p=r.__read(e.getScale({scale:t.transformation.scale,deltaScale:i,minScale:l,maxScale:f,speed:m}),2),d=p[0],_=p[1],v=o-u,y=a-c,g=v/d,h=y/d,b=e.getTranslate({scale:d,minScale:l,maxScale:f}),S=b({pos:v,prevPos:t.transformation.originX,translate:t.transformation.translateX}),x=b({pos:y,prevPos:t.transformation.originY,translate:t.transformation.translateY});t.element.style.transformOrigin=0===g&&0===h?"center":g+"px "+h+"px",t.element.style.transform=e.getMatrix({scale:_,translateX:S,translateY:x}),t.transformation={originX:g,originY:h,translateX:S,translateY:x,scale:_},t.bounds=t.element.getBoundingClientRect();var w=t.element.style.transformOrigin.split(" ");w.forEach((function(t,n,e){var r=t.replace("px","");e[n]=Number(r)})),e._originPoint={x:w[0],y:w[1]},e._updateRangeValue()}}},this.pan=function(t){var n=t.state,r=t.originX,o=t.originY;n.transformation.translateX+=r,n.transformation.translateY+=o,n.element.style.transform=e.getMatrix({scale:n.transformation.scale,translateX:n.transformation.translateX,translateY:n.transformation.translateY})},this.canPan=function(t){return{panBy:function(n){var r=n.originX,o=n.originY;return e.pan({state:t,originX:r,originY:o})},panTo:function(n){var r=n.originX,o=n.originY,a=n.scale;t.transformation.scale=a,e.pan({state:t,originX:r-t.transformation.translateX,originY:o-t.transformation.translateY})}}},this.getMatrix=function(t){var n=t.scale;return"matrix("+n+", 0, 0, "+n+", "+t.translateX+", "+t.translateY+")"},this.getScale=function(t){var n=t.scale,r=t.minScale,o=t.maxScale,a=t.speed,i=n+t.deltaScale/(a/n);return i=Math.max(r,Math.min(i,o)),[e._round(n),e._round(i)]},this.valueInRange=function(t){var n=t.minScale,e=t.maxScale,r=t.scale;return r<=e&&r>=n},this.hasPositionChanged=function(t){return t.pos!==t.prevPos},this.getTranslate=function(t){var n=t.minScale,r=t.maxScale,o=t.scale;return function(t){var a=t.pos,i=t.prevPos,s=t.translate;return e.valueInRange({minScale:n,maxScale:r,scale:o})&&e.hasPositionChanged({pos:a,prevPos:i})?(s+(a-i)*o)*(0/o):s}},this.on=function(t,n,e,r){return void 0===r&&(r=!1),t.addEventListener(n,e,r),function(){t.removeEventListener(n,e,r)}},this._zoom=function(t,n){void 0===n&&(n=1),n=n<e._options.minScale?e._options.minScale:n>e._options.maxScale?e._options.maxScale:n;var o=e._state,a=o.minScale,i=o.maxScale,s=o.speed,u=r.__read(e.getScale({scale:n,deltaScale:t,minScale:a,maxScale:i,speed:s}),2),c=u[0],l=(u[1],e._originPoint.x),f=e._originPoint.y,m=e.getTranslate({scale:c,minScale:a,maxScale:i}),p=m({pos:l,prevPos:e._state.transformation.originX,translate:e._state.transformation.translateX}),d=m({pos:f,prevPos:e._state.transformation.originY,translate:e._state.transformation.translateY});e._state.element.style.transformOrigin=0===l&&0===f?"center":l+"px "+f+"px",e._state.element.style.transform=e.getMatrix({scale:c,translateX:p,translateY:d}),e._state.transformation={originX:l,originY:f,translateX:p,translateY:d,scale:n},e._updateRangeValue()},this._updateRangeValue=function(){if(e._options.rangeElement){var t=e._options.rangeElement,n=e._round(e._state.transformation.scale).toString();t.value!==n&&(t.value=n)}},this._round=function(t,n){return void 0===n&&(n=2),Number(Math.round(+(t+"e"+n))+"e-"+n)},this._element=t,this._options=r.__assign(r.__assign({},this.defaults),n),this._originPoint={x:0,y:0},this._state=this._initState(),this._instance=this._initInstance(),this._initEvents()};n.default=o},"./src/index.ts":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./node_modules/tslib/tslib.es6.js").__importDefault(e("./src/ImageZoom.ts"));window.ImageZoom=r.default,n.default=r.default},0:function(t,n,e){t.exports=e("./src/index.ts")}})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b29tL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly96b29tL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3pvb20vLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL3pvb20vLi9zcmMvSW1hZ2Vab29tLnRzIiwid2VicGFjazovL3pvb20vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImV4dGVuZFN0YXRpY3MiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIl9fZXh0ZW5kcyIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBseSIsIl9fcmVzdCIsImUiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJfX3BhcmFtIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsIl9fbWV0YWRhdGEiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJtZXRhZGF0YSIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiX19nZW5lcmF0b3IiLCJib2R5IiwiZiIsInkiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiaXRlcmF0b3IiLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJwb3AiLCJwdXNoIiwiX19jcmVhdGVCaW5kaW5nIiwiayIsImsyIiwidW5kZWZpbmVkIiwiX19leHBvcnRTdGFyIiwiX192YWx1ZXMiLCJfX3JlYWQiLCJhciIsImVycm9yIiwiX19zcHJlYWQiLCJjb25jYXQiLCJfX3NwcmVhZEFycmF5cyIsImlsIiwiYSIsImoiLCJqbCIsIl9fYXdhaXQiLCJfX2FzeW5jR2VuZXJhdG9yIiwiYXN5bmNJdGVyYXRvciIsInEiLCJyZXN1bWUiLCJmdWxmaWxsIiwic2V0dGxlIiwic2hpZnQiLCJfX2FzeW5jRGVsZWdhdG9yIiwiX19hc3luY1ZhbHVlcyIsIl9fbWFrZVRlbXBsYXRlT2JqZWN0IiwiY29va2VkIiwicmF3IiwiX19zZXRNb2R1bGVEZWZhdWx0IiwiX19pbXBvcnRTdGFyIiwibW9kIiwiX19pbXBvcnREZWZhdWx0IiwiZGVmYXVsdCIsIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCJyZWNlaXZlciIsInByaXZhdGVNYXAiLCJoYXMiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0Iiwic2V0IiwiZWxlbWVudCIsIm9wdGlvbnMiLCJkZWZhdWx0cyIsIm1pblNjYWxlIiwibWF4U2NhbGUiLCJzcGVlZCIsIl9pbml0U3RhdGUiLCJfZWxlbWVudCIsIl9vcHRpb25zIiwidHJhbnNmb3JtYXRpb24iLCJvcmlnaW5YIiwib3JpZ2luWSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwic2NhbGUiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJfaW5pdEluc3RhbmNlIiwiY2FuWm9vbSIsIl9zdGF0ZSIsImNhblBhbiIsIl9pbml0RXZlbnRzIiwiem9vbUluRWxlbWVudCIsImVsIiwib24iLCJ6b29tSW4iLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJ6b29tT3V0RWxlbWVudCIsInpvb21PdXQiLCJyYW5nZUVsZW1lbnQiLCJtaW4iLCJ0b1N0cmluZyIsIm1heCIsImRlZmF1bHRWYWx1ZSIsInNjYWxlRmFjdG9yIiwiTnVtYmVyIiwiZGVsdGFTY2FsZSIsIl96b29tIiwiX2luc3RhbmNlIiwicGFuVG8iLCJfb3JpZ2luUG9pbnQiLCJ4IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInpvb20iLCJNYXRoIiwic2lnbiIsImRlbHRhWSIsInBhZ2VYIiwicGFnZVkiLCJzaGlmdEtleSIsInBhbkJ5IiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwic3RhdGUiLCJsZWZ0IiwidG9wIiwiZ2V0U2NhbGUiLCJuZXdTY2FsZSIsIm5ld09yaWdpblgiLCJuZXdPcmlnaW5ZIiwidHJhbnNsYXRlIiwiZ2V0VHJhbnNsYXRlIiwicG9zIiwicHJldlBvcyIsInN0eWxlIiwidHJhbnNmb3JtT3JpZ2luIiwidHJhbnNmb3JtIiwiZ2V0TWF0cml4IiwiYXJyT3JpZ2lucyIsInNwbGl0IiwiZm9yRWFjaCIsImluZGV4IiwiYXJyYXkiLCJ0ZW1wIiwicmVwbGFjZSIsIl91cGRhdGVSYW5nZVZhbHVlIiwicGFuIiwiX3JvdW5kIiwidmFsdWVJblJhbmdlIiwiaGFzUG9zaXRpb25DaGFuZ2VkIiwidHlwZSIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJudW0iLCJkaWdpdHMiLCJyb3VuZCIsIkltYWdlWm9vbSJdLCJt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S2YsU0FBU3NCLGFBQ3JDaEIsRUFBZ0IsRUFBS2lFLE9BQU8sRUFBSzVELE9BQU9WLGVBQWVLLE9BQU9rQixXQUVoRVQsRUFBRy9JLFFBQVVzSSxJQUNoQlMsRUFBRy9JLE1BQVFzSSxLQUtkLEtBQUFpRSxPQUFTLFNBQUNPLEVBQWFDLEdBQ3RCLFlBRHNCLElBQUFBLE1BQUEsR0FDZm5ELE9BQU9VLEtBQUswQyxRQUFRRixFQUFNLElBQU1DLElBQVcsS0FBT0EsSUFoVHpEekwsS0FBS3lHLFNBQVdQLEVBQ2hCbEcsS0FBSzBHLFNBQVcsRUFBSCx1QkFBUTFHLEtBQUtvRyxVQUFhRCxHQUN2Q25HLEtBQUsySSxhQUFlLENBQ25CQyxFQUFHLEVBQ0hoRyxFQUFHLEdBRUo1QyxLQUFLcUgsT0FBU3JILEtBQUt3RyxhQUNuQnhHLEtBQUt5SSxVQUFZekksS0FBS21ILGdCQUN0Qm5ILEtBQUt1SCxlLGdIQzlEUCxFLHVDQUFBLHlDQU9BbEssT0FBT3NPLFVBQVksVUFDbkIsVUFBZSxXIiwiZmlsZSI6ImltYWdlem9vbS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcInpvb21cIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiem9vbVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJ6b29tXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L3Jlc3RyaWN0LXBsdXMtb3BlcmFuZHMgKi9cblxuZXhwb3J0IGludGVyZmFjZSBJT3B0aW9ucyB7XG5cdG1pblNjYWxlOiBudW1iZXI7XG5cdG1heFNjYWxlOiBudW1iZXI7XG5cdHNwZWVkOiBudW1iZXI7XG5cdGVsZW1lbnQ/OiBIVE1MRWxlbWVudDtcblx0cmFuZ2VFbGVtZW50PzogSFRNTElucHV0RWxlbWVudDtcblx0em9vbU91dEVsZW1lbnQ/OiBIVE1MRWxlbWVudDtcblx0em9vbUluRWxlbWVudD86IEhUTUxFbGVtZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElJbnN0YW5jZSB7XG5cdHBhbkJ5OiBhbnk7XG5cdHBhblRvOiBhbnk7XG5cdHpvb206IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU3RhdGUge1xuXHRlbGVtZW50OiBIVE1MRWxlbWVudDtcblx0bWF4U2NhbGU6IG51bWJlcjtcblx0bWluU2NhbGU6IG51bWJlcjtcblx0c3BlZWQ6IG51bWJlcjtcblx0dHJhbnNmb3JtYXRpb246IHtcblx0XHRvcmlnaW5YOiBudW1iZXI7XG5cdFx0b3JpZ2luWTogbnVtYmVyO1xuXHRcdHNjYWxlOiBudW1iZXI7XG5cdFx0dHJhbnNsYXRlWDogbnVtYmVyO1xuXHRcdHRyYW5zbGF0ZVk6IG51bWJlcjtcblx0fTtcblx0Ym91bmRzPzogRE9NUmVjdDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUG9pbnQge1xuXHR4OiBudW1iZXI7XG5cdHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2Vab29tIHtcblxuXHRfaW5zdGFuY2U6IElJbnN0YW5jZTtcblx0X2VsZW1lbnQ6IEhUTUxFbGVtZW50O1xuXHRfb3B0aW9uczogSU9wdGlvbnM7XG5cdF9zdGF0ZTogSVN0YXRlO1xuXHRfb3JpZ2luUG9pbnQ6IElQb2ludDtcblxuXHQvLyBkZWZhdWx0cyAvIG9wdGlvbnNcblx0ZGVmYXVsdHM6IElPcHRpb25zID0ge1xuXHRcdG1pblNjYWxlOiAxLFxuXHRcdG1heFNjYWxlOiAxMCxcblx0XHRzcGVlZDogMTBcblx0fTtcblxuXHRjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG5cdFx0dGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG5cdFx0dGhpcy5fb3B0aW9ucyA9IHsgLi4udGhpcy5kZWZhdWx0cywgLi4ub3B0aW9ucyB9O1xuXHRcdHRoaXMuX29yaWdpblBvaW50ID0ge1xuXHRcdFx0eDogMCxcblx0XHRcdHk6IDAsXG5cdFx0fTtcblx0XHR0aGlzLl9zdGF0ZSA9IHRoaXMuX2luaXRTdGF0ZSgpO1xuXHRcdHRoaXMuX2luc3RhbmNlID0gdGhpcy5faW5pdEluc3RhbmNlKCk7XG5cdFx0dGhpcy5faW5pdEV2ZW50cygpO1xuXHR9XG5cblx0X2luaXRTdGF0ZSA9ICgpOklTdGF0ZSA9PiB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGVsZW1lbnQ6IHRoaXMuX2VsZW1lbnQsXG5cdFx0XHRtaW5TY2FsZTogdGhpcy5fb3B0aW9ucy5taW5TY2FsZSxcblx0XHRcdG1heFNjYWxlOiB0aGlzLl9vcHRpb25zLm1heFNjYWxlLFxuXHRcdFx0c3BlZWQ6IHRoaXMuX29wdGlvbnMuc3BlZWQsXG5cdFx0XHR0cmFuc2Zvcm1hdGlvbjoge1xuXHRcdFx0XHRvcmlnaW5YOiAwLFxuXHRcdFx0XHRvcmlnaW5ZOiAwLFxuXHRcdFx0XHR0cmFuc2xhdGVYOiAwLFxuXHRcdFx0XHR0cmFuc2xhdGVZOiAwLFxuXHRcdFx0XHRzY2FsZTogMSwgLy8gU2NhbGUgRmFjdG9yIDE6MVxuXHRcdFx0fSxcblx0XHRcdGJvdW5kczogdGhpcy5fZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcblx0XHR9O1xuXHR9XG5cblx0X2luaXRJbnN0YW5jZSA9ICgpOklJbnN0YW5jZSA9PiB7XG5cdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY2FuWm9vbSh0aGlzLl9zdGF0ZSksIHRoaXMuY2FuUGFuKHRoaXMuX3N0YXRlKSk7XG5cdH1cblxuXHRfaW5pdEV2ZW50cyA9ICgpOmFueSA9PiB7XG5cblx0XHQvLyBab29tIEluIEVsZW1lbnRcblx0XHRpZiAodGhpcy5fb3B0aW9ucy56b29tSW5FbGVtZW50KSB7XG5cdFx0XHRjb25zdCBlbCA9IHRoaXMuX29wdGlvbnMuem9vbUluRWxlbWVudDtcblx0XHRcdGxldCB0aW1lcmlkOiBhbnk7XG5cblx0XHRcdHRoaXMub24oZWwsICdjbGljaycsICgpID0+IHtcblx0XHRcdFx0dGhpcy56b29tSW4oKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLm9uKGVsLCAnbW91c2Vkb3duJywgKCkgPT4ge1xuXHRcdFx0XHR0aW1lcmlkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuem9vbUluKCk7XG5cdFx0XHRcdH0sIDIwKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLm9uKGVsLCAnbW91c2V1cCcsICgpID0+IHtcblx0XHRcdFx0Y2xlYXJJbnRlcnZhbCh0aW1lcmlkKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8vIFpvb20gT3V0IEVsZW1lbnRcblx0XHRpZiAodGhpcy5fb3B0aW9ucy56b29tT3V0RWxlbWVudCkge1xuXHRcdFx0Y29uc3QgZWwgPSB0aGlzLl9vcHRpb25zLnpvb21PdXRFbGVtZW50O1xuXHRcdFx0bGV0IHRpbWVyaWQ6IGFueTtcblxuXHRcdFx0dGhpcy5vbihlbCwgJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnpvb21PdXQoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLm9uKGVsLCAnbW91c2Vkb3duJywgKCkgPT4ge1xuXHRcdFx0XHR0aW1lcmlkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuem9vbU91dCgpO1xuXHRcdFx0XHR9LCAyMCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5vbihlbCwgJ21vdXNldXAnLCAoKSA9PiB7XG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwodGltZXJpZCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBSYW5nZSBFbGVtZW50XG5cdFx0aWYgKHRoaXMuX29wdGlvbnMucmFuZ2VFbGVtZW50KSB7XG5cdFx0XHRjb25zdCBlbCA9IHRoaXMuX29wdGlvbnMucmFuZ2VFbGVtZW50O1xuXHRcdFx0XHQvLyB1cGRhdGUgdGhlIHJhbmdlIGlucHV0IHRvIG1hdGNoIG9wdGlvbnNcblx0XHRcdFx0ZWwubWluID0gdGhpcy5fb3B0aW9ucy5taW5TY2FsZS50b1N0cmluZygpO1xuXHRcdFx0XHRlbC5tYXggPSB0aGlzLl9vcHRpb25zLm1heFNjYWxlLnRvU3RyaW5nKCk7XG5cdFx0XHRcdGVsLnN0ZXAgPSAodGhpcy5fb3B0aW9ucy5zcGVlZCAqIDAuMDAxKS50b1N0cmluZygpO1xuXHRcdFx0XHRlbC5kZWZhdWx0VmFsdWUgPSBlbC5taW47XG5cblx0XHRcdC8vIFJhbmdlIElucHV0IEV2ZW50IEhhbmRsZXJcblx0XHRcdHRoaXMub24oZWwsICdpbnB1dCcsICgpID0+IHtcblx0XHRcdFx0Y29uc3Qgc2NhbGVGYWN0b3IgPSBOdW1iZXIoZWwudmFsdWUpO1xuXHRcdFx0XHRjb25zdCBkZWx0YVNjYWxlID0gc2NhbGVGYWN0b3IgPiB0aGlzLl9zdGF0ZS50cmFuc2Zvcm1hdGlvbi5zY2FsZSA/IDEgOiAtMTtcblx0XHRcdFx0dGhpcy5fem9vbShkZWx0YVNjYWxlLCBzY2FsZUZhY3Rvcik7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBEb3VibGUgQ2xpY2sgPSByZXNldCBiYWNrIHRvIDAsMCwxXG5cdFx0dGhpcy5vbih0aGlzLl9lbGVtZW50LCAnZGJsY2xpY2snLCAoKSA9PiB7XG5cdFx0XHR0aGlzLl9pbnN0YW5jZS5wYW5Ubyh7XG5cdFx0XHRcdG9yaWdpblg6IDAsXG5cdFx0XHRcdG9yaWdpblk6IDAsXG5cdFx0XHRcdHNjYWxlOiAxLFxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIFJlc2V0IG9yaWdpbiBwb2ludFxuXHRcdFx0dGhpcy5fb3JpZ2luUG9pbnQgPSB7XG5cdFx0XHRcdHg6IDAsXG5cdFx0XHRcdHk6IDBcblx0XHRcdH07XG5cblx0XHRcdC8vIFJlc2V0IFJhbmdlIFNsaWRlciBJbnB1dFxuXHRcdFx0aWYgKHRoaXMuX29wdGlvbnMucmFuZ2VFbGVtZW50KSB7XG5cdFx0XHRcdHRoaXMuX29wdGlvbnMucmFuZ2VFbGVtZW50LnZhbHVlID0gJzAnO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gV2hlZWwgPSB6b29tIGluL291dFxuXHRcdHRoaXMub24odGhpcy5fZWxlbWVudCwgJ3doZWVsJywgKGV2ZW50OiBhbnkpID0+IHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHRoaXMuX2luc3RhbmNlLnpvb20oe1xuXHRcdFx0XHRkZWx0YVNjYWxlOiBNYXRoLnNpZ24oZXZlbnQuZGVsdGFZKSA+IDAgPyAtMSA6IDEsXG5cdFx0XHRcdHg6IGV2ZW50LnBhZ2VYLFxuXHRcdFx0XHR5OiBldmVudC5wYWdlWVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblxuXHRcdC8vIFNoaWZ0IEtleSArIE1vdXNlIE1vdmUgPSBkcmFnL21vdmVcblx0XHR0aGlzLm9uKHRoaXMuX2VsZW1lbnQsICdtb3VzZW1vdmUnLCAoZXZlbnQ6IGFueSkgPT4ge1xuXHRcdFx0aWYgKCFldmVudC5zaGlmdEtleSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHRoaXMuX2luc3RhbmNlLnBhbkJ5KHtcblx0XHRcdFx0b3JpZ2luWDogZXZlbnQubW92ZW1lbnRYLFxuXHRcdFx0XHRvcmlnaW5ZOiBldmVudC5tb3ZlbWVudFlcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0em9vbUluID0gKCkgPT4ge1xuXHRcdGNvbnN0IHNjYWxlRmFjdG9yID0gdGhpcy5fc3RhdGUudHJhbnNmb3JtYXRpb24uc2NhbGUgKyAoMSAvIHRoaXMuX29wdGlvbnMuc3BlZWQpO1xuXHRcdHRoaXMuX3pvb20oMSwgc2NhbGVGYWN0b3IpO1xuXHR9XG5cblx0em9vbU91dCA9ICgpID0+IHtcblx0XHRjb25zdCBzY2FsZUZhY3RvciA9IHRoaXMuX3N0YXRlLnRyYW5zZm9ybWF0aW9uLnNjYWxlICsgKC0xIC8gdGhpcy5fb3B0aW9ucy5zcGVlZCk7XG5cdFx0dGhpcy5fem9vbSgtMSwgc2NhbGVGYWN0b3IpO1xuXHR9XG5cblx0Y2FuWm9vbSA9IChzdGF0ZTogSVN0YXRlKSA9PiAoe1xuXHRcdHpvb206ICh7IHgsIHksIGRlbHRhU2NhbGUgfSkgPT4ge1xuXHRcdFx0Y29uc3QgeyBsZWZ0LCB0b3AgfSA9IHN0YXRlLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRjb25zdCB7IG1pblNjYWxlLCBtYXhTY2FsZSwgc3BlZWQgfSA9IHN0YXRlO1xuXHRcdFx0Y29uc3QgW3NjYWxlLCBuZXdTY2FsZV0gPSB0aGlzLmdldFNjYWxlKHsgc2NhbGU6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnNjYWxlLCBkZWx0YVNjYWxlLCBtaW5TY2FsZSwgbWF4U2NhbGUsIHNwZWVkIH0pO1xuXHRcdFx0Y29uc3Qgb3JpZ2luWCA9IHggLSBsZWZ0O1xuXHRcdFx0Y29uc3Qgb3JpZ2luWSA9IHkgLSB0b3A7XG5cdFx0XHRjb25zdCBuZXdPcmlnaW5YID0gb3JpZ2luWCAvIHNjYWxlO1xuXHRcdFx0Y29uc3QgbmV3T3JpZ2luWSA9IG9yaWdpblkgLyBzY2FsZTtcblx0XHRcdGNvbnN0IHRyYW5zbGF0ZSA9IHRoaXMuZ2V0VHJhbnNsYXRlKHsgc2NhbGUsIG1pblNjYWxlLCBtYXhTY2FsZSB9KTtcblx0XHRcdGNvbnN0IHRyYW5zbGF0ZVggPSB0cmFuc2xhdGUoeyBwb3M6IG9yaWdpblgsIHByZXZQb3M6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLm9yaWdpblgsIHRyYW5zbGF0ZTogc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWCB9KTtcblx0XHRcdGNvbnN0IHRyYW5zbGF0ZVkgPSB0cmFuc2xhdGUoeyBwb3M6IG9yaWdpblksIHByZXZQb3M6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLm9yaWdpblksIHRyYW5zbGF0ZTogc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWSB9KTtcblxuXHRcdFx0Ly8gc3RhdGUuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBgJHtuZXdPcmlnaW5YfXB4ICR7bmV3T3JpZ2luWX1weGA7XG5cdFx0XHQvLyBJZiB0aGUgaW1hZ2UgaGFzbid0IGJlZW4gc2NhbGVkIHlldCwgYXNzdW1lIHdlIHNob3VsZCBzY2FsZSBmcm9tIHRoZSBjZW50ZXJcblx0XHRcdHN0YXRlLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID1cblx0XHRcdFx0bmV3T3JpZ2luWCA9PT0gMCAmJiBuZXdPcmlnaW5ZID09PSAwXG5cdFx0XHRcdFx0PyAnY2VudGVyJ1xuXHRcdFx0XHRcdDogYCR7bmV3T3JpZ2luWH1weCAke25ld09yaWdpbll9cHhgO1xuXG5cdFx0XHRzdGF0ZS5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IHRoaXMuZ2V0TWF0cml4KHsgc2NhbGU6IG5ld1NjYWxlLCB0cmFuc2xhdGVYLCB0cmFuc2xhdGVZIH0pO1xuXHRcdFx0c3RhdGUudHJhbnNmb3JtYXRpb24gPSB7IG9yaWdpblg6IG5ld09yaWdpblgsIG9yaWdpblk6IG5ld09yaWdpblksIHRyYW5zbGF0ZVgsIHRyYW5zbGF0ZVksIHNjYWxlOiBuZXdTY2FsZSB9O1xuXHRcdFx0c3RhdGUuYm91bmRzID0gc3RhdGUuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdFx0Ly8gQ2FwdHVyZSB0aGUgQ2FsY3VsYXRlZCBPcmlnaW4gUG9pbnQgYW5kIHN0b3JlIGl0IGZvciB1c2UgZWxzZXdoZXJlIGFzIG5lZWRlZFxuXHRcdFx0Y29uc3QgbmV3T3JpZ2lucyA9IHN0YXRlLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luO1xuXHRcdFx0Y29uc3QgYXJyT3JpZ2luczogYW55W10gPSBuZXdPcmlnaW5zLnNwbGl0KCcgJyk7XG5cblx0XHRcdGFyck9yaWdpbnMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgsIGFycmF5KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHRlbXAgPSBlbGVtZW50LnJlcGxhY2UoJ3B4JywgJycpO1xuXHRcdFx0XHRhcnJheVtpbmRleF0gPSBOdW1iZXIodGVtcCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5fb3JpZ2luUG9pbnQgPSB7XG5cdFx0XHRcdHg6IGFyck9yaWdpbnNbMF0sXG5cdFx0XHRcdHk6IGFyck9yaWdpbnNbMV1cblx0XHRcdH07XG5cblx0XHRcdHRoaXMuX3VwZGF0ZVJhbmdlVmFsdWUoKTtcblx0XHR9XG5cdH0pO1xuXG5cdHBhbiA9ICh7IHN0YXRlLCBvcmlnaW5YLCBvcmlnaW5ZIH0pID0+IHtcblx0XHRzdGF0ZS50cmFuc2Zvcm1hdGlvbi50cmFuc2xhdGVYICs9IG9yaWdpblg7XG5cdFx0c3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWSArPSBvcmlnaW5ZO1xuXHRcdHN0YXRlLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID1cblx0XHRcdHRoaXMuZ2V0TWF0cml4KHtcblx0XHRcdFx0c2NhbGU6IHN0YXRlLnRyYW5zZm9ybWF0aW9uLnNjYWxlLFxuXHRcdFx0XHR0cmFuc2xhdGVYOiBzdGF0ZS50cmFuc2Zvcm1hdGlvbi50cmFuc2xhdGVYLFxuXHRcdFx0XHR0cmFuc2xhdGVZOiBzdGF0ZS50cmFuc2Zvcm1hdGlvbi50cmFuc2xhdGVZXG5cdFx0XHR9KTtcblx0fTtcblxuXHRjYW5QYW4gPSAoc3RhdGU6IElTdGF0ZSkgPT4gKHtcblx0XHRwYW5CeTogKHsgb3JpZ2luWCwgb3JpZ2luWSB9KSA9PiB0aGlzLnBhbih7IHN0YXRlLCBvcmlnaW5YLCBvcmlnaW5ZIH0pLFxuXHRcdHBhblRvOiAoeyBvcmlnaW5YLCBvcmlnaW5ZLCBzY2FsZSB9KSA9PiB7XG5cdFx0XHRzdGF0ZS50cmFuc2Zvcm1hdGlvbi5zY2FsZSA9IHNjYWxlO1xuXHRcdFx0dGhpcy5wYW4oe1xuXHRcdFx0XHRzdGF0ZSxcblx0XHRcdFx0b3JpZ2luWDogb3JpZ2luWCAtIHN0YXRlLnRyYW5zZm9ybWF0aW9uLnRyYW5zbGF0ZVgsXG5cdFx0XHRcdG9yaWdpblk6IG9yaWdpblkgLSBzdGF0ZS50cmFuc2Zvcm1hdGlvbi50cmFuc2xhdGVZXG5cdFx0XHR9KTtcblx0XHR9LFxuXHR9KTtcblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3Jlc3RyaWN0LXRlbXBsYXRlLWV4cHJlc3Npb25zXG5cdGdldE1hdHJpeCA9ICh7IHNjYWxlLCB0cmFuc2xhdGVYLCB0cmFuc2xhdGVZIH0pID0+IGBtYXRyaXgoJHtzY2FsZX0sIDAsIDAsICR7c2NhbGV9LCAke3RyYW5zbGF0ZVh9LCAke3RyYW5zbGF0ZVl9KWA7XG5cblx0Z2V0U2NhbGUgPSAoeyBzY2FsZSwgbWluU2NhbGUsIG1heFNjYWxlLCBzcGVlZCwgZGVsdGFTY2FsZSB9KSA9PiB7XG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC1wbHVzLW9wZXJhbmRzXG5cdFx0bGV0IG5ld1NjYWxlID0gc2NhbGUgKyAoZGVsdGFTY2FsZSAvIChzcGVlZCAvIHNjYWxlKSk7XG5cdFx0bmV3U2NhbGUgPSBNYXRoLm1heChtaW5TY2FsZSwgTWF0aC5taW4obmV3U2NhbGUsIG1heFNjYWxlKSk7XG5cblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1yZXR1cm5cblx0XHRyZXR1cm4gW3RoaXMuX3JvdW5kKHNjYWxlKSwgdGhpcy5fcm91bmQobmV3U2NhbGUpXTtcblx0fTtcblxuXHR2YWx1ZUluUmFuZ2UgPSAoeyBtaW5TY2FsZSwgbWF4U2NhbGUsIHNjYWxlIH0pID0+IHNjYWxlIDw9IG1heFNjYWxlICYmIHNjYWxlID49IG1pblNjYWxlO1xuXG5cdGhhc1Bvc2l0aW9uQ2hhbmdlZCA9ICh7IHBvcywgcHJldlBvcyB9KSA9PiBwb3MgIT09IHByZXZQb3M7XG5cblx0Z2V0VHJhbnNsYXRlID0gKHsgbWluU2NhbGUsIG1heFNjYWxlLCBzY2FsZSB9KSA9PiAoeyBwb3MsIHByZXZQb3MsIHRyYW5zbGF0ZSB9KSA9PlxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLXJldHVyblxuXHRcdHRoaXMudmFsdWVJblJhbmdlKHsgbWluU2NhbGUsIG1heFNjYWxlLCBzY2FsZSB9KVxuXHRcdFx0JiYgdGhpcy5oYXNQb3NpdGlvbkNoYW5nZWQoeyBwb3MsIHByZXZQb3MgfSlcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVzdHJpY3QtcGx1cy1vcGVyYW5kc1xuXHRcdFx0PyAodHJhbnNsYXRlICsgKChwb3MgLSBwcmV2UG9zKSAqIHNjYWxlKSkgKiAoKDEgLSAxKSAvIHNjYWxlKVxuXHRcdFx0OiB0cmFuc2xhdGU7XG5cblx0b24gPSAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyA9IGZhbHNlKSA9PiB7XG5cdFx0dGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcblx0XHR9O1xuXHR9XG5cblx0X3pvb20gPSAoZGVsdGFTY2FsZTogbnVtYmVyLCBzY2FsZUZhY3RvciA9IDEpID0+IHtcblx0XHRzY2FsZUZhY3RvciA9IHNjYWxlRmFjdG9yIDwgdGhpcy5fb3B0aW9ucy5taW5TY2FsZVxuXHRcdFx0PyB0aGlzLl9vcHRpb25zLm1pblNjYWxlXG5cdFx0XHQ6IHNjYWxlRmFjdG9yID4gdGhpcy5fb3B0aW9ucy5tYXhTY2FsZVxuXHRcdFx0XHQ/IHRoaXMuX29wdGlvbnMubWF4U2NhbGVcblx0XHRcdFx0OiBzY2FsZUZhY3RvcjtcblxuXHRcdGNvbnN0IHsgbWluU2NhbGUsIG1heFNjYWxlLCBzcGVlZCB9ID0gdGhpcy5fc3RhdGU7XG5cdFx0Y29uc3QgW3NjYWxlLCBuZXdTY2FsZV0gPSB0aGlzLmdldFNjYWxlKHtcblx0XHRcdHNjYWxlOiBzY2FsZUZhY3Rvcixcblx0XHRcdGRlbHRhU2NhbGUsXG5cdFx0XHRtaW5TY2FsZSxcblx0XHRcdG1heFNjYWxlLFxuXHRcdFx0c3BlZWQsXG5cdFx0fSk7XG5cblx0XHRjb25zdCBvcmlnaW5YID0gdGhpcy5fb3JpZ2luUG9pbnQueDtcblx0XHRjb25zdCBvcmlnaW5ZID0gdGhpcy5fb3JpZ2luUG9pbnQueTtcblx0XHRjb25zdCB0cmFuc2xhdGUgPSB0aGlzLmdldFRyYW5zbGF0ZSh7IHNjYWxlLCBtaW5TY2FsZSwgbWF4U2NhbGUgfSk7XG5cdFx0Y29uc3QgdHJhbnNsYXRlWCA9IHRyYW5zbGF0ZSh7XG5cdFx0XHRwb3M6IG9yaWdpblgsXG5cdFx0XHRwcmV2UG9zOiB0aGlzLl9zdGF0ZS50cmFuc2Zvcm1hdGlvbi5vcmlnaW5YLFxuXHRcdFx0dHJhbnNsYXRlOiB0aGlzLl9zdGF0ZS50cmFuc2Zvcm1hdGlvbi50cmFuc2xhdGVYLFxuXHRcdH0pO1xuXHRcdGNvbnN0IHRyYW5zbGF0ZVkgPSB0cmFuc2xhdGUoe1xuXHRcdFx0cG9zOiBvcmlnaW5ZLFxuXHRcdFx0cHJldlBvczogdGhpcy5fc3RhdGUudHJhbnNmb3JtYXRpb24ub3JpZ2luWSxcblx0XHRcdHRyYW5zbGF0ZTogdGhpcy5fc3RhdGUudHJhbnNmb3JtYXRpb24udHJhbnNsYXRlWSxcblx0XHR9KTtcblxuXHRcdC8vIElmIHRoZSBpbWFnZSBoYXNuJ3QgYmVlbiBzY2FsZWQgeWV0LCBhc3N1bWUgd2Ugc2hvdWxkIHNjYWxlIGZyb20gdGhlIGNlbnRlclxuXHRcdHRoaXMuX3N0YXRlLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID1cblx0XHRcdG9yaWdpblggPT09IDAgJiYgb3JpZ2luWSA9PT0gMCA/ICdjZW50ZXInIDogYCR7b3JpZ2luWH1weCAke29yaWdpbll9cHhgO1xuXG5cdFx0dGhpcy5fc3RhdGUuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSB0aGlzLmdldE1hdHJpeCh7IHNjYWxlOiBzY2FsZSwgdHJhbnNsYXRlWCwgdHJhbnNsYXRlWSB9KTtcblx0XHR0aGlzLl9zdGF0ZS50cmFuc2Zvcm1hdGlvbiA9IHtcblx0XHRcdG9yaWdpblg6IG9yaWdpblgsXG5cdFx0XHRvcmlnaW5ZOiBvcmlnaW5ZLFxuXHRcdFx0dHJhbnNsYXRlWCxcblx0XHRcdHRyYW5zbGF0ZVksXG5cdFx0XHRzY2FsZTogc2NhbGVGYWN0b3IsXG5cdFx0fTtcblxuXHRcdHRoaXMuX3VwZGF0ZVJhbmdlVmFsdWUoKTtcblx0fVxuXG5cdF91cGRhdGVSYW5nZVZhbHVlID0gKCkgPT4ge1xuXHRcdC8vIFVwZGF0ZSBSYW5nZSBJbnB1dFxuXHRcdGlmICh0aGlzLl9vcHRpb25zLnJhbmdlRWxlbWVudCkge1xuXHRcdFx0Y29uc3QgZWw6IEhUTUxJbnB1dEVsZW1lbnQgPSB0aGlzLl9vcHRpb25zLnJhbmdlRWxlbWVudDtcblx0XHRcdGNvbnN0IHNjYWxlOiBzdHJpbmcgPSB0aGlzLl9yb3VuZCh0aGlzLl9zdGF0ZS50cmFuc2Zvcm1hdGlvbi5zY2FsZSkudG9TdHJpbmcoKTtcblxuXHRcdFx0aWYgKGVsLnZhbHVlICE9PSBzY2FsZSkge1xuXHRcdFx0XHRlbC52YWx1ZSA9IHNjYWxlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdF9yb3VuZCA9IChudW06IG51bWJlciwgZGlnaXRzID0gMikgPT4ge1xuXHRcdHJldHVybiBOdW1iZXIoTWF0aC5yb3VuZCgrKG51bSArICdlJyArIGRpZ2l0cykpICsgJ2UtJyArIGRpZ2l0cyk7XG5cdH1cbn1cbiIsImltcG9ydCBJbWFnZVpvb20gZnJvbSAnLi9JbWFnZVpvb20nO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG5cdGludGVyZmFjZSBXaW5kb3cge1xuXHRcdEltYWdlWm9vbTogYW55O1xuXHR9XG59XG53aW5kb3cuSW1hZ2Vab29tID0gSW1hZ2Vab29tO1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2Vab29tO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==